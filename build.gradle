buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath files('gradle/libs/gradle-witness.jar')
        classpath 'com.android.tools.build:gradle:2.2.3'
    }
}

plugins {
    id 'com.github.johnrengelman.shadow' version '1.2.4'
}

allprojects {
    repositories {
        jcenter()
    }
}

configure([project(':core'), project(':webapp')]) {
    project.version = '0.4.5'

    project.afterEvaluate {
        jar {
            manifest {
                attributes 'Implementation-Version': project.version
            }
        }

        sourceCompatibility = 1.7
        targetCompatibility = 1.7
        // Set bootClasspath=/path/to/rt.jar:/path/to/jce.jar in gradle.properties if needed
        if (bootClasspath) {
            project.tasks.withType(AbstractCompile, { AbstractCompile ac ->
                ac.options.bootClasspath = bootClasspath
            })
        }
    }
}
